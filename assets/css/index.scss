@charset "UTF-8";
@import 'bootstrap-scss/_functions';
@import 'bootstrap-scss/_variables';
@import 'bootstrap-scss/mixins/_breakpoints';

// ------------------------------------------------------------------------
// Variables
// ------------------------------------------------------------------------

// Colors

$color-a: #5B377D;
$color-b: #FFE466;
$color-c: #E95829;

// $color-a: #B34444;
// $color-b: #FFEE9C;
// $color-c: #E8A989;


// Layout

$space: 30px;
$header-h: 70px;

// ------------------------------------------------------------------------
// Color palettes
// ------------------------------------------------------------------------

$color-texts: $color-a;
$color-shapes-lines-grid: $color-c;
$color-shapes-lines-data: $color-a;
$color-hr: $color-a;

// .palette-1-color-texts       { color: $color-texts; }
// .palette-1-stroke-lines-grid { stroke: $color-shapes-lines-grid !important; }
// .palette-1-stroke-lines-data { stroke: $color-shapes-lines-data !important; }
// .palette-1-color-hr          { border-top-color: $color-hr; }

.palette-1-bg                { background-color:  #FFE466; }
.palette-1-color-city-name   { color:             #5c377d; }
.palette-1-color-texts       { color:             #5c377d; }
.palette-1-color-texts-large { color:             #5c377d; }
.palette-1-color-texts-upper { color:             #5c377d; }
.palette-1-stroke-lines-data { stroke:            #e95829 !important; }
.palette-1-stroke-lines-grid { stroke:            rgba(#5c377d, 0.5) !important; }
.palette-1-color-hr          { border-top-color:  rgba(#5c377d, 0.5); }
.palette-1-color-footer      { background-color:  white; }
.palette-1-color-map         { color:             #5E397F; }

.palette-2-bg                { background-color:  #9dcfbe; }
.palette-2-color-city-name   { color:             #5c377d; }
.palette-2-color-texts       { color:             #5c377d; }
.palette-2-color-texts-large { color:             #5c377d; }
.palette-2-color-texts-upper { color:             #5c377d; }
.palette-2-stroke-lines-data { stroke:            #e95829 !important; }
.palette-2-stroke-lines-grid { stroke:            rgba(#5c377d, 0.5) !important; }
.palette-2-color-hr          { border-top-color:  rgba(#5c377d, 0.5); }
.palette-2-color-footer      { background-color:  white; }
.palette-2-color-map         { color:             #5E397F; }

// --------------------------------------------------------------------------------

.palette-3-bg                { background-color:  #FFE466; }
.palette-3-color-city-name   { color:             #000000; }
.palette-3-color-texts       { color:             darken(#CCAA5B, 20%); }
.palette-3-color-texts-large { color:             #000000; }
.palette-3-color-texts-upper { color:             darken(#CCAA5B, 20%); }
.palette-3-stroke-lines-data { stroke:            #e95829 !important; }
.palette-3-stroke-lines-grid { stroke:            rgba(#CCAA5B, 0.8) !important; }
.palette-3-color-hr          { border-top-color:  rgba(#CCAA5B, 1); }
.palette-3-color-footer      { background-color:  white; }
.palette-3-color-map         { color:             #5E397F; }

.palette-4-bg                { background-color:  #9dcfbe; }
.palette-4-color-city-name   { color:             #000000; }
.palette-4-color-texts       { color:             darken(#539E8F, 10%); }
.palette-4-color-texts-large { color:             #000000; }
.palette-4-color-texts-upper { color:             darken(#539E8F, 10%); }
.palette-4-stroke-lines-data { stroke:            #e95829 !important; }
.palette-4-stroke-lines-grid { stroke:            rgba(#539E8F, 0.8) !important; }
.palette-4-color-hr          { border-top-color:  rgba(#539E8F, 1); }
.palette-4-color-footer      { background-color:  white; }
.palette-4-color-map         { color:             #5E397F; }

.palette-5-bg                { background-color:  #E0D8E7; }
.palette-5-color-city-name   { color:             #000000; }
.palette-5-color-texts       { color:             darken(#9989A7, 20%); }
.palette-5-color-texts-large { color:             #000000; }
.palette-5-color-texts-upper { color:             darken(#9989A7, 20%); }
.palette-5-stroke-lines-data { stroke:            #e95829 !important; }
.palette-5-stroke-lines-grid { stroke:            rgba(#9989A7, 0.8) !important; }
.palette-5-color-hr          { border-top-color:  rgba(#9989A7, 1); }
.palette-5-color-footer      { background-color:  white; }
.palette-5-color-map         { color:             #5E397F; }

.palette-6-bg                { background-color:  #FDD9C0; }
.palette-6-color-city-name   { color:             #000000; }
.palette-6-color-texts       { color:             darken(#C28C78, 10%); }
.palette-6-color-texts-large { color:             #000000; }
.palette-6-color-texts-upper { color:             darken(#C28C78, 10%); }
.palette-6-stroke-lines-data { stroke:            #e95829 !important; }
.palette-6-stroke-lines-grid { stroke:            rgba(#C28C78, 0.8) !important; }
.palette-6-color-hr          { border-top-color:  rgba(#C28C78, 1); }
.palette-6-color-footer      { background-color:  white; }
.palette-6-color-map         { color:             #5E397F; }


// ------------------------------------------------------------------------
// External files import
// ------------------------------------------------------------------------

@import '_reset';
@import '_typography';
@import '_mixins';


// ------------------------------------------------------------------------
// General tags & classes
// ------------------------------------------------------------------------

* {
}
body {
}

main { 
  padding-top: $header-h; 
  padding-bottom: 100px; 
  min-height: 100vh;
}

a {
	cursor: pointer;
  text-decoration: none;
  &.active {
    color: $color-c;
  }
}

[data-url] {
  cursor: pointer;
}

hr {
  height: 0;
  border-top: 0.5px solid black;
}

// ------------------------------------------------------------------------
// Color system
// ------------------------------------------------------------------------

.color-a            { color: $color-a; }
.color-b            { color: $color-b; }
.color-c            { color: $color-c; }
.bg-color-a         { background-color: $color-a; }
.bg-color-b         { background-color: $color-b; }
.bg-color-c         { background-color: $color-c; }
.border-color-a     { border-color: $color-a; }
.border-color-b     { border-color: $color-b; }
.border-color-c     { border-color: $color-c; }
.stroke-a           { stroke: $color-a !important; }
.stroke-b           { stroke: $color-b !important; }
.stroke-c           { stroke: $color-c !important; }
.border-top-color-a { border-top-color: $color-a; }
.border-top-color-b { border-top-color: $color-b; }
.border-top-color-c { border-top-color: $color-c; }

// ------------------------------------------------------------------------
// Utilities
// ------------------------------------------------------------------------

.color-white        { color: white; }
.color-black        { color: black; }
.color-white-50     { color: rgba(255,255,255, 0.5); }
.bg-color-white     { background-color: white; }
.hover-white:hover  { color: white; }
.hover-u:hover      { text-decoration: underline; }
.upper              { text-transform: uppercase; }
.font-bold          { font-weight: 700; }

// ------------------------------------------------------------------------
// Grid
// ------------------------------------------------------------------------

$gridMargin: $space;
.cols-container {
  display: flex;
  justify-content: space-evenly;
  flex-flow: row wrap;
  align-items: flex-start;
  position: relative;
  .cols-container {
    margin-left: -$gridMargin;
    margin-right: -$gridMargin;
  }
}

@mixin col ($colN, $totalColN) {
  position: relative;
  width: calc((100% - #{$gridMargin * ($totalColN + 1)}) / #{$totalColN} * #{$colN} + #{$gridMargin * ($colN - 1)});
  &.no-margin {
    width: calc(100% / #{$totalColN} * #{$colN});
  }
}
@mixin col-1-on-1 { @include col(1, 1); /*border: 1px solid rgba(black, 0.1);*/ }
@mixin col-1-on-5 { @include col(1, 5); /*border: 1px solid rgba(black, 0.1);*/ }
@mixin col-2-on-5 { @include col(2, 5); /*border: 1px solid rgba(black, 0.1);*/ }
@mixin col-3-on-5 { @include col(3, 5); /*border: 1px solid rgba(black, 0.1);*/ }
@mixin col-1-on-2 { @include col(1, 2); /*border: 1px solid rgba(black, 0.1);*/ }
@mixin col-1-on-3 { @include col(1, 3); /*border: 1px solid rgba(black, 0.1);*/ }

.col-1-on-1 { @include col-1-on-1; }
.col-1-on-5 { @include col-1-on-5; }
.col-2-on-5 { @include col-2-on-5; }
.col-3-on-5 { @include col-3-on-5; }
.col-1-on-2 { @include col-1-on-2; }
.col-1-on-3 { @include col-1-on-3; }

.adjust-margin {
  padding: 0 15px;
}

// ------------------------------------------------------------------------
// Sections
// ------------------------------------------------------------------------

nav#header {  
  position: fixed;
  top: 0; left: 0; right: 0;
  height: $header-h;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 $space;
  @include transition(top 400ms);

  &.hide {
    top: -$header-h - 10px;
  }

  h1.title {}
}

section.city-detail {
  
  .left {
    @include col-1-on-1;
    @include media-breakpoint-up(md) { @include col-1-on-2; }
    @include media-breakpoint-up(xl) { @include col-2-on-5; }
  }

  .right {
    @include col-1-on-1;
    @include media-breakpoint-up(md) { @include col-1-on-2; }
    @include media-breakpoint-up(xl) { @include col-3-on-5; }
  }

  .city-contents {
    opacity: 0;
    padding-top: 30px;
    transform: translateY(30px);
    @include transition(opacity 400ms 400ms, transform 800ms 400ms);

    &.reveal {
      opacity: 1;
      transform: translateY(0px);
    }
  }

  .city-detail-map {
    padding-right: $space;
  }

  .description {
    display: flex;
    align-items: flex-end;
    text-transform: uppercase;
  }

  .stat {  
  
    .stat-meta-row {
      position: relative;
      display: flex;
      align-items: flex-start;
      
      .label { 
        display: inline-block;
        width: 30%;
      }
      
      .info { 
        display: inline-block;
        width: 70%;
        position: relative;
        
        &.weblink {
          max-width: 100%;
          display: inline-block;
          white-space: nowrap;
          text-overflow: ellipsis;
          overflow: hidden;
        }
      }
    }
    .stat-shape {
      text-align: center;

      svg {
        display: inline-block;
        max-width: 300px;
        $width-small: 0.6px;
        $width-large: 1.1px;
        path.city-stat-path {
          stroke-width: $width-small;
          vector-effect: non-scaling-stroke;
          opacity: 0.4;

          &.active {
            opacity: 1;
          }

          &#line-10, &#line-20, &#line-30 {
            stroke-width: $width-large;
            stroke-dasharray: 4 1;
            &:not(.active) { 
              opacity: 0.5;
              opacity: 1;
            }
          }
        }
      }
    }
  }

  &.collapsed {}
}

section.all-cities {
  position: relative;
  display: flex;
  flex-flow: row wrap;
  align-items: center;
  // justify-content: space-evenly;
  justify-content: center;

  .city-prev {
    position: relative;
    margin-top: $space*2;
    
    // --- Match this * 
    width: 100%;
    @include media-breakpoint-only(xs) { max-width: 360px; }
    @include media-breakpoint-only(sm) { width: 50%; }
    @include media-breakpoint-only(md) { width: 33%; }
    @include media-breakpoint-only(lg) { width: 25%; }
    @include media-breakpoint-only(xl) { width: 20%; }
    
    .thumb-wrapper {
      width: 100%;
      height: 0;
      padding-top: 100%;
      position: relative;
      .map, .lines {
        position: absolute;
        top: 0; left: 0;
        width: 100%
      }
    }

    .texts {
      .city {}
      .stat-text-home {}
      .source {
        max-width: 200px;
        display: inline-block;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        opacity: 0.7;
      }
    }
  }
}

.wrap-line {
  flex-basis: 100%;
  display: none;

  // --- With this *
  &.sm { @include media-breakpoint-only(sm) { display: block; } }
  &.md { @include media-breakpoint-only(md) { display: block; } }
  &.lg { @include media-breakpoint-only(lg) { display: block; } }
  &.xl { @include media-breakpoint-only(xl) { display: block; } }
}

section.footer-1 {}
section.footer-2 {
  background-color: #E1E5EA;
  img.partners {
    width: 580px;
    max-width: 100%;
  }
}


#legend-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  @include transition(opacity 400ms);

  &.show {
    opacity: 1;
    pointer-events: all;
  }

  .bg { 
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    opacity: 0.95;
  }

  .close-x {
    pointer-events: all;
    position: absolute;
    top: $header-h + $space;
    right: $space;
    @include font-sans-l;
    font-size: 40px;
  }

  img {
    position: relative;
  }
}

// ------------------------------------------------------------------------
// BOOTSTRAP BREAKPOINTS
// ------------------------------------------------------------------------

// xs ---                 Portrait phones
// sm ---  576px and up   Small devices (landscape phones)
// md ---  768px and up   Medium devices (tablets)
// lg ---  992px and up   Large devices (desktops)
// xl --- 1200px and up   Extra large devices (large desktops)

// No media query necessary for xs breakpoint as it's effectively `@media (min-width: 0) { ... }`
// @include media-breakpoint-up(sm) { ... }
// @include media-breakpoint-only(md) { ... }
// @include media-breakpoint-between(md, xl) { ... }
// @include media-breakpoint-down(lg) { ... }
